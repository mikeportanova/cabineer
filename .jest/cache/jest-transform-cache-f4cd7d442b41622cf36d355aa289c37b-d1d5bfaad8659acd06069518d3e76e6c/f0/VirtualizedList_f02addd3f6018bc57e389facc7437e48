61e21c3c3c35010159676cf5c1c36ba7
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _VirtualizeUtils = require("./VirtualizeUtils");

var React = _interopRequireWildcard(require("react"));

var _VirtualizedListContext = require("./VirtualizedListContext.js");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Batchinator = require("../Interaction/Batchinator");

var FillRateHelper = require("./FillRateHelper");

var ReactNative = require("../Renderer/shims/ReactNative");

var RefreshControl = require("../Components/RefreshControl/RefreshControl");

var ScrollView = require("../Components/ScrollView/ScrollView");

var StyleSheet = require("../StyleSheet/StyleSheet");

var View = require("../Components/View/View");

var ViewabilityHelper = require("./ViewabilityHelper");

var flattenStyle = require("../StyleSheet/flattenStyle");

var infoLog = require("../Utilities/infoLog");

var invariant = require('invariant');

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}

function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}

function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}

function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}

function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}

function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}

var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);

  var _super = _createSuper(VirtualizedList);

  function VirtualizedList(_props) {
    var _this$props$updateCel;

    var _this;

    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props);

    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };

    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };

    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    };

    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.\n\n' + describeNestedLists(Object.assign({}, childList, {
          horizontal: !!childList.ref.props.horizontal
        })));
      }

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };

    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };

    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };

    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };

    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];

    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };

    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(View, props);
      } else if (onRefresh) {
        var _props$refreshing;

        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(ScrollView, props);
      }
    };

    _this._onCellLayout = function (e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: _this._selectOffset(layout),
        length: _this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = _this._frames[cellKey];

      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        _this._totalCellLength += next.length - (curr ? curr.length : 0);
        _this._totalCellsMeasured += curr ? 0 : 1;
        _this._averageCellLength = _this._totalCellLength / _this._totalCellsMeasured;
        _this._frames[cellKey] = next;
        _this._highestMeasuredFrameIndex = Math.max(_this._highestMeasuredFrameIndex, index);

        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._frames[cellKey].inLayout = true;
      }

      _this._triggerRemeasureForChildListsInCell(cellKey);

      _this._computeBlankness();

      _this._updateViewableItems(_this.props.data);
    };

    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = Object.assign({}, curr, {
          inLayout: false
        });
      }
    };

    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };

    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());

      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        if (_this.props.contentOffset == null) {
          _this.scrollToIndex({
            animated: false,
            index: _this.props.initialScrollIndex
          });
        }

        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };

    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    };

    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollEndDrag(e);
      });

      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollBegin(e);
      });

      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };

    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollEnd(e);
      });

      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._updateCellsToRender = function () {
      var _this$props = _this.props,
          data = _this$props.data,
          getItemCount = _this$props.getItemCount,
          _onEndReachedThreshold = _this$props.onEndReachedThreshold;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(_onEndReachedThreshold);

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;
        var _this$_scrollMetrics = _this._scrollMetrics,
            contentLength = _this$_scrollMetrics.contentLength,
            offset = _this$_scrollMetrics.offset,
            visibleLength = _this$_scrollMetrics.visibleLength;

        if (!isVirtualizationDisabled) {
          if (visibleLength > 0 && contentLength > 0) {
            if (!_this.props.initialScrollIndex || _this._hasDoneInitialScroll) {
              newState = (0, _VirtualizeUtils.computeWindowedRenderLimits)(_this.props.data, _this.props.getItemCount, maxToRenderPerBatchOrDefault(_this.props.maxToRenderPerBatch), windowSizeOrDefault(_this.props.windowSize), state, _this.__getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(_this.props.maxToRenderPerBatch) : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var childKey of childListKeys) {
              var childList = _this._nestedChildLists.get(childKey);

              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }

        if (newState != null && newState.first === state.first && newState.last === state.last) {
          newState = null;
        }

        return newState;
      });
    };

    _this._createViewToken = function (index, isViewable) {
      var _this$props2 = _this.props,
          data = _this$props2.data,
          getItem = _this$props2.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: _this._keyExtractor(item, index),
        isViewable: isViewable
      };
    };

    _this.__getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };

    _this._getFrameMetrics = function (index) {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItem = _this$props3.getItem,
          getItemCount = _this$props3.getItemCount,
          getItemLayout = _this$props3.getItemLayout;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[_this._keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
        }
      }

      return frame;
    };

    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(windowSizeOrDefault(_props.windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props4 = _this.props,
          onViewableItemsChanged = _this$props4.onViewableItemsChanged,
          viewabilityConfig = _this$props4.viewabilityConfig;

      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new ViewabilityHelper(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + initialNumToRenderOrDefault(_this.props.initialNumToRender)) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.getNestedChildState(_this._getListKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;

      var frame = this.__getFrameMetricsApprox(veryLast);

      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props5 = this.props,
          data = _this$props5.data,
          horizontal = _this$props5.horizontal,
          getItemCount = _this$props5.getItemCount,
          getItemLayout = _this$props5.getItemLayout,
          onScrollToIndexFailed = _this$props5.onScrollToIndexFailed;
      var animated = params.animated,
          index = params.index,
          viewOffset = params.viewOffset,
          viewPosition = params.viewPosition;
      invariant(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
      invariant(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
      invariant(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }

      var frame = this.__getFrameMetricsApprox(index);

      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props6 = this.props,
          data = _this$props6.data,
          getItem = _this$props6.getItem,
          getItemCount = _this$props6.getItemCount;
      var itemCount = getItemCount(data);

      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
          offset = params.offset;

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });

      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }

      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;

      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "_getListKey",
    value: function _getListKey() {
      return this.props.listKey || this._getCellKey();
    }
  }, {
    key: "_getDebugInfo",
    value: function _getDebugInfo() {
      var _this$context2;

      return {
        listKey: this._getListKey(),
        cellKey: this._getCellKey(),
        horizontal: horizontalOrDefault(this.props.horizontal),
        parent: (_this$context2 = this.context) == null ? void 0 : _this$context2.debugInfo
      };
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this._getListKey(),
          ref: this,
          parentDebugInfo: this.context.debugInfo
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          key: this._getListKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }

      this._updateViewableItems(null);

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });

      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;

      var _this$props7 = this.props,
          CellRendererComponent = _this$props7.CellRendererComponent,
          ItemSeparatorComponent = _this$props7.ItemSeparatorComponent,
          ListHeaderComponent = _this$props7.ListHeaderComponent,
          ListItemComponent = _this$props7.ListItemComponent,
          data = _this$props7.data,
          debug = _this$props7.debug,
          getItem = _this$props7.getItem,
          getItemCount = _this$props7.getItemCount,
          getItemLayout = _this$props7.getItemLayout,
          horizontal = _this$props7.horizontal,
          renderItem = _this$props7.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);

      var _loop = function _loop(ii) {
        var item = getItem(data, ii);

        var key = _this2._keyExtractor(item, ii);

        _this2._indicesToKeys.set(ii, key);

        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }

        cells.push(React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          debug: debug,
          fillRateHelper: _this2._fillRateHelper,
          getItemLayout: getItemLayout,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onCellLayout: _this2._onCellLayout,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }));
        prevCellKey = key;
      };

      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization || false;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index) {
      if (this.props.keyExtractor != null) {
        return this.props.keyExtractor(item, index);
      }

      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);

      if (key === String(index)) {
        _usedIndexForKey = true;

        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }

      return key;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);

        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
        }
      }

      var _this$props8 = this.props,
          ListEmptyComponent = _this$props8.ListEmptyComponent,
          ListFooterComponent = _this$props8.ListFooterComponent,
          ListHeaderComponent = _this$props8.ListHeaderComponent;
      var _this$props9 = this.props,
          data = _this$props9.data,
          horizontal = _this$props9.horizontal;

      var isVirtualizationDisabled = this._isVirtualizationDisabled();

      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];

      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }

        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
        cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          key: "$header"
        }, React.createElement(View, {
          onLayout: this._onLayoutHeader,
          style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle)
        }, element)));
      }

      var itemCount = this.props.getItemCount(data);

      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';

        var spacerKey = this._getSpacerKey(!horizontal);

        var lastInitialIndex = this.props.initialScrollIndex ? -1 : initialNumToRenderOrDefault(this.props.initialNumToRender) - 1;
        var _this$state = this.state,
            first = _this$state.first,
            last = _this$state.last;

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;

          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this.__getFrameMetricsApprox(lastInitialIndex);

                var stickyBlock = this.__getFrameMetricsApprox(ii);

                var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_lead",
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }));

                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

                var trailSpace = this.__getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_trail",
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }));
                insertedStickySpacer = true;
                break;
              }
            }
          }

          if (!insertedStickySpacer) {
            var _initBlock = this.__getFrameMetricsApprox(lastInitialIndex);

            var firstSpace = this.__getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

            cells.push(React.createElement(View, {
              key: "$lead_spacer",
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }));
          }
        }

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }

        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this.__getFrameMetricsApprox(last);

          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

          var endFrame = this.__getFrameMetricsApprox(end);

          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push(React.createElement(View, {
            key: "$tail_spacer",
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);

        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);

            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: StyleSheet.compose(inversionStyle, _element.props.style)
        }));
      }

      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);

        cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          key: "$footer"
        }, React.createElement(View, {
          onLayout: this._onLayoutFooter,
          style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle)
        }, _element2)));
      }

      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
      });
      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var innerRet = React.createElement(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild,
          debugInfo: this._getDebugInfo()
        }
      }, React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
        ref: this._captureScrollRef
      }, cells));
      var ret = innerRet;

      if (__DEV__) {
        ret = React.createElement(ScrollView.Context.Consumer, null, function (scrollContext) {
          if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null) {
            console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
            _this3._hasWarned.nesting = true;
          }

          return innerRet;
        });
      }

      if (this.props.debug) {
        return React.createElement(View, {
          style: styles.debug
        }, ret, this._renderDebugOverlay());
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props10 = this.props,
          data = _this$props10.data,
          extraData = _this$props10.extraData;

      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }

      var hiPriInProgress = this._hiPriInProgress;

      this._scheduleCellsToRenderUpdate();

      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

      if (childListKeys) {
        for (var childKey of childListKeys) {
          var childList = this._nestedChildLists.get(childKey);

          childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
        }
      }
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;

      try {
        if (!this._scrollRef) {
          return;
        }

        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });

          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());

          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;

          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;

            _this4._cellKeysToChildListKeys.forEach(function (childListKeys) {
              if (childListKeys) {
                for (var childKey of childListKeys) {
                  var childList = _this4._nestedChildLists.get(childKey);

                  childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
                }
              }
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);

      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this.__getFrameMetricsApprox(ii);

        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }

      var windowTop = this.__getFrameMetricsApprox(this.state.first).offset;

      var frameLast = this.__getFrameMetricsApprox(this.state.last);

      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlay]
      }, framesInLayout.map(function (f, ii) {
        return React.createElement(View, {
          key: 'f' + ii,
          style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
            top: f.offset * normalize,
            height: f.length * normalize
          }]
        });
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
          top: windowTop * normalize,
          height: windowLen * normalize
        }]
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
          top: visTop * normalize,
          height: visLen * normalize
        }]
      }));
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props11 = this.props,
          data = _this$props11.data,
          getItemCount = _this$props11.getItemCount,
          onEndReached = _this$props11.onEndReached,
          onEndReachedThreshold = _this$props11.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
          contentLength = _this$_scrollMetrics2.contentLength,
          visibleLength = _this$_scrollMetrics2.visibleLength,
          offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      var threshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : 2;

      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (distanceFromEnd > threshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
          first = _this$state2.first,
          last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
          offset = _this$_scrollMetrics3.offset,
          visibleLength = _this$_scrollMetrics3.visibleLength,
          velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      var scrollingThreshold = onEndReachedThreshold * visibleLength / 2;

      if (first > 0) {
        var distTop = offset - this.__getFrameMetricsApprox(first).offset;

        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }

      if (last < itemCount - 1) {
        var distBottom = this.__getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }

      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;

        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });

        this._updateCellsToRender();

        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;

      var getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
          getItemCount = newProps.getItemCount;
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(newProps.maxToRenderPerBatch);
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);

VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;

var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);

  var _super2 = _createSuper(CellRenderer);

  function CellRenderer() {
    var _this6;

    (0, _classCallCheck2.default)(this, CellRenderer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = _super2.call.apply(_super2, [this].concat(args));
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };

    _this6._onLayout = function (nativeEvent) {
      _this6.props.onCellLayout && _this6.props.onCellLayout(nativeEvent, _this6.props.cellKey, _this6.props.index);
    };

    return _this6;
  }

  (0, _createClass2.default)(CellRenderer, [{
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: Object.assign({}, state.separatorProps, newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "_renderElement",
    value: function _renderElement(renderItem, ListItemComponent, item, index) {
      if (renderItem && ListItemComponent) {
        console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
      }

      if (ListItemComponent) {
        return React.createElement(ListItemComponent, {
          item: item,
          index: index,
          separators: this._separators
        });
      }

      if (renderItem) {
        return renderItem({
          item: item,
          index: index,
          separators: this._separators
        });
      }

      invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props12 = this.props,
          CellRendererComponent = _this$props12.CellRendererComponent,
          ItemSeparatorComponent = _this$props12.ItemSeparatorComponent,
          ListItemComponent = _this$props12.ListItemComponent,
          debug = _this$props12.debug,
          fillRateHelper = _this$props12.fillRateHelper,
          getItemLayout = _this$props12.getItemLayout,
          horizontal = _this$props12.horizontal,
          item = _this$props12.item,
          index = _this$props12.index,
          inversionStyle = _this$props12.inversionStyle,
          renderItem = _this$props12.renderItem;

      var element = this._renderElement(renderItem, ListItemComponent, item, index);

      var onLayout = getItemLayout && !debug && !fillRateHelper.enabled() || !this.props.onCellLayout ? undefined : this._onLayout;
      var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
      var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
      var result = !CellRendererComponent ? React.createElement(View, {
        style: cellStyle,
        onLayout: onLayout
      }, element, itemSeparator) : React.createElement(CellRendererComponent, (0, _extends2.default)({}, this.props, {
        style: cellStyle,
        onLayout: onLayout
      }), element, itemSeparator);
      return React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this.props.cellKey
      }, result);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      return {
        separatorProps: Object.assign({}, prevState.separatorProps, {
          leadingItem: props.item
        })
      };
    }
  }]);
  return CellRenderer;
}(React.Component);

function describeNestedLists(childList) {
  var trace = 'VirtualizedList trace:\n' + ("  Child (" + (childList.horizontal ? 'horizontal' : 'vertical') + "):\n") + ("    listKey: " + childList.key + "\n") + ("    cellKey: " + childList.cellKey);
  var debugInfo = childList.parentDebugInfo;

  while (debugInfo) {
    trace += "\n  Parent (" + (debugInfo.horizontal ? 'horizontal' : 'vertical') + "):\n" + ("    listKey: " + debugInfo.listKey + "\n") + ("    cellKey: " + debugInfo.cellKey);
    debugInfo = debugInfo.parent;
  }

  return trace;
}

var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlJlYWN0TmF0aXZlIiwiUmVmcmVzaENvbnRyb2wiLCJTY3JvbGxWaWV3IiwiU3R5bGVTaGVldCIsIlZpZXciLCJWaWV3YWJpbGl0eUhlbHBlciIsImZsYXR0ZW5TdHlsZSIsImluZm9Mb2ciLCJpbnZhcmlhbnQiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsImhvcml6b250YWxPckRlZmF1bHQiLCJob3Jpem9udGFsIiwiaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0IiwiaW5pdGlhbE51bVRvUmVuZGVyIiwibWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCIsIm1heFRvUmVuZGVyUGVyQmF0Y2giLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0Iiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsIndpbmRvd1NpemVPckRlZmF1bHQiLCJ3aW5kb3dTaXplIiwiVmlydHVhbGl6ZWRMaXN0IiwicHJvcHMiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsIl9zY3JvbGxNZXRyaWNzIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uIiwiY29udGV4dCIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsImtleSIsImV4aXN0aW5nQ2hpbGREYXRhIiwiX25lc3RlZENoaWxkTGlzdHMiLCJnZXQiLCJzdGF0ZSIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJjaGlsZExpc3RzSW5DZWxsIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiY2VsbEtleSIsIlNldCIsImFkZCIsInNldCIsInJlZiIsImNvbnNvbGUiLCJlcnJvciIsImRlc2NyaWJlTmVzdGVkTGlzdHMiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsImtleXMiLCJuZXdQcm9wcyIsImZvckVhY2giLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIl9nZXRTcGFjZXJLZXkiLCJpc1ZlcnRpY2FsIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiTWFwIiwiX2ZyYW1lcyIsIl9mb290ZXJMZW5ndGgiLCJfaGFzRG9uZUluaXRpYWxTY3JvbGwiLCJfaGFzTW9yZSIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbExheW91dCIsImUiLCJpbmRleCIsImxheW91dCIsIm5hdGl2ZUV2ZW50IiwibmV4dCIsIl9zZWxlY3RPZmZzZXQiLCJsZW5ndGgiLCJfc2VsZWN0TGVuZ3RoIiwiaW5MYXlvdXQiLCJjdXJyIiwiTWF0aCIsIm1heCIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl91cGRhdGVWaWV3YWJsZUl0ZW1zIiwiZGF0YSIsIl9vbkNlbGxVbm1vdW50IiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIm9uTGF5b3V0IiwiX21heWJlQ2FsbE9uRW5kUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwiY29udGVudE9mZnNldCIsInNjcm9sbFRvSW5kZXgiLCJhbmltYXRlZCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwicGVyZiIsInByZXZEdCIsIl9maWxsUmF0ZUhlbHBlciIsImFjdGl2YXRlIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJ2aWV3YWJpbGl0eUhlbHBlciIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX29uU2Nyb2xsRW5kRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsIl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfb25Nb21lbnR1bVNjcm9sbEVuZCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsImdldEl0ZW1Db3VudCIsIl9vbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJfaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsImNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyIsIl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94IiwiZGlzdGFuY2VGcm9tRW5kIiwicmVuZGVyQWhlYWQiLCJmaXJzdCIsImxhc3QiLCJtaW4iLCJzaXplIiwibmV3Rmlyc3QiLCJuZXdMYXN0IiwiaWkiLCJjZWxsS2V5Rm9ySW5kZXgiLCJjaGlsZExpc3RLZXlzIiwic29tZUNoaWxkSGFzTW9yZSIsImNoaWxkS2V5IiwiaGFzTW9yZSIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpc1ZpZXdhYmxlIiwiZ2V0SXRlbSIsIml0ZW0iLCJfa2V5RXh0cmFjdG9yIiwiZnJhbWUiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiZ2V0SXRlbUxheW91dCIsIl9faXNOYXRpdmUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJ1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsInB1c2giLCJpbml0aWFsU3RhdGUiLCJzdG9yZWRTdGF0ZSIsImdldE5lc3RlZENoaWxkU3RhdGUiLCJfZ2V0TGlzdEtleSIsImZyYW1lcyIsInBhcmFtcyIsInZlcnlMYXN0Iiwic2Nyb2xsVG8iLCJ3YXJuIiwieCIsInkiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiaXRlbUNvdW50IiwidCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsImxpc3RLZXkiLCJfZ2V0Q2VsbEtleSIsInBhcmVudCIsImRlYnVnSW5mbyIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInBhcmVudERlYnVnSW5mbyIsInVucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiZGlzcG9zZSIsImFib3J0IiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiaGFzIiwidW5kZWZpbmVkIiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwibmVzdGVkQ29udGV4dCIsImtleUV4dHJhY3RvciIsImRlZmF1bHRLZXlFeHRyYWN0b3IiLCJTdHJpbmciLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJfX0RFVl9fIiwiZmxhdFN0eWxlcyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImZsZXhXcmFwIiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJlbGVtZW50IiwiUmVhY3QiLCJpc1ZhbGlkRWxlbWVudCIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJzcGFjZXJLZXkiLCJsYXN0SW5pdGlhbEluZGV4IiwiX3B1c2hDZWxscyIsImZpcnN0QWZ0ZXJJbml0aWFsIiwiaW5zZXJ0ZWRTdGlja3lTcGFjZXIiLCJpbml0QmxvY2siLCJzdGlja3lCbG9jayIsImxlYWRTcGFjZSIsInRyYWlsU3BhY2UiLCJmaXJzdFNwYWNlIiwibGFzdEZyYW1lIiwiZW5kRnJhbWUiLCJ0YWlsU3BhY2VyTGVuZ3RoIiwiY2xvbmVFbGVtZW50IiwiZXZlbnQiLCJzdHlsZSIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsImlubmVyUmV0IiwiZ2V0U2Nyb2xsTWV0cmljcyIsIl9nZXREZWJ1Z0luZm8iLCJyZW5kZXJTY3JvbGxDb21wb25lbnQiLCJyZXQiLCJzY3JvbGxDb250ZXh0IiwibmVzdGluZyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJwcmV2UHJvcHMiLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJtZWFzdXJlTGF5b3V0Iiwic2Nyb2xsTWV0cmljcyIsIm1ldHJpY3NDaGFuZ2VkIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJmIiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIm9uRW5kUmVhY2hlZCIsInRocmVzaG9sZCIsImhpUHJpIiwic2Nyb2xsaW5nVGhyZXNob2xkIiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJzY2hlZHVsZSIsIm9uVXBkYXRlIiwicHJldlN0YXRlIiwiUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsIkNlbGxSZW5kZXJlciIsInNlcGFyYXRvclByb3BzIiwiaGlnaGxpZ2h0ZWQiLCJsZWFkaW5nSXRlbSIsIl9zZXBhcmF0b3JzIiwiaGlnaGxpZ2h0Iiwib25VcGRhdGVTZXBhcmF0b3JzIiwidW5oaWdobGlnaHQiLCJ1cGRhdGVQcm9wcyIsInNlbGVjdCIsIm9uQ2VsbExheW91dCIsIm9uVW5tb3VudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXBhcmF0b3JzIiwiZmlsbFJhdGVIZWxwZXIiLCJfcmVuZGVyRWxlbWVudCIsImVuYWJsZWQiLCJpdGVtU2VwYXJhdG9yIiwiY2VsbFN0eWxlIiwicm93UmV2ZXJzZSIsImNvbHVtblJldmVyc2UiLCJyb3ciLCJyZXN1bHQiLCJDb21wb25lbnQiLCJ0cmFjZSIsImNyZWF0ZSIsInRyYW5zZm9ybSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXhEaXJlY3Rpb24iLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5jb25zdCBCYXRjaGluYXRvciA9IHJlcXVpcmUoJy4uL0ludGVyYWN0aW9uL0JhdGNoaW5hdG9yJyk7XG5jb25zdCBGaWxsUmF0ZUhlbHBlciA9IHJlcXVpcmUoJy4vRmlsbFJhdGVIZWxwZXInKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFJlZnJlc2hDb250cm9sID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9SZWZyZXNoQ29udHJvbC9SZWZyZXNoQ29udHJvbCcpO1xuY29uc3QgU2Nyb2xsVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3Jyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0Jyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXcnKTtcbmNvbnN0IFZpZXdhYmlsaXR5SGVscGVyID0gcmVxdWlyZSgnLi9WaWV3YWJpbGl0eUhlbHBlcicpO1xuXG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgaW5mb0xvZyA9IHJlcXVpcmUoJy4uL1V0aWxpdGllcy9pbmZvTG9nJyk7XG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxuaW1wb3J0IHtcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplVXRpbHMnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7U2Nyb2xsUmVzcG9uZGVyVHlwZX0gZnJvbSAnLi4vQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIFZpZXdhYmlsaXR5Q29uZmlnLFxuICBWaWV3VG9rZW4sXG4gIFZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlyLFxufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB0eXBlIHtMYXlvdXRFdmVudH0gZnJvbSAnLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxuICB0eXBlIENoaWxkTGlzdFN0YXRlLFxuICB0eXBlIExpc3REZWJ1Z0luZm8sXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5qcyc7XG5cbnR5cGUgSXRlbSA9IGFueTtcblxuZXhwb3J0IHR5cGUgU2VwYXJhdG9ycyA9IHtcbiAgaGlnaGxpZ2h0OiAoKSA9PiB2b2lkLFxuICB1bmhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgdXBkYXRlUHJvcHM6IChzZWxlY3Q6ICdsZWFkaW5nJyB8ICd0cmFpbGluZycsIG5ld1Byb3BzOiBPYmplY3QpID0+IHZvaWQsXG4gIC4uLlxufTtcblxuZXhwb3J0IHR5cGUgUmVuZGVySXRlbVByb3BzPEl0ZW1UPiA9IHtcbiAgaXRlbTogSXRlbVQsXG4gIGluZGV4OiBudW1iZXIsXG4gIHNlcGFyYXRvcnM6IFNlcGFyYXRvcnMsXG4gIC4uLlxufTtcblxuZXhwb3J0IHR5cGUgUmVuZGVySXRlbVR5cGU8SXRlbVQ+ID0gKFxuICBpbmZvOiBSZW5kZXJJdGVtUHJvcHM8SXRlbVQ+LFxuKSA9PiBSZWFjdC5Ob2RlO1xuXG50eXBlIFZpZXdhYmlsaXR5SGVscGVyQ2FsbGJhY2tUdXBsZSA9IHtcbiAgdmlld2FiaWxpdHlIZWxwZXI6IFZpZXdhYmlsaXR5SGVscGVyLFxuICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiAoaW5mbzoge1xuICAgIHZpZXdhYmxlSXRlbXM6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgY2hhbmdlZDogQXJyYXk8Vmlld1Rva2VuPixcbiAgICAuLi5cbiAgfSkgPT4gdm9pZCxcbiAgLi4uXG59O1xuXG50eXBlIFJlcXVpcmVkUHJvcHMgPSB7fFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWNjZXNzb3IgZnVuY3Rpb25zIGFzc3VtZSB0aGlzIGlzIGFuIEFycmF5PHtrZXk6IHN0cmluZ30gfCB7aWQ6IHN0cmluZ30+IGJ1dCB5b3UgY2FuIG92ZXJyaWRlXG4gICAqIGdldEl0ZW0sIGdldEl0ZW1Db3VudCwgYW5kIGtleUV4dHJhY3RvciB0byBoYW5kbGUgYW55IHR5cGUgb2YgaW5kZXgtYmFzZWQgZGF0YS5cbiAgICovXG4gIGRhdGE/OiBhbnksXG4gIC8qKlxuICAgKiBBIGdlbmVyaWMgYWNjZXNzb3IgZm9yIGV4dHJhY3RpbmcgYW4gaXRlbSBmcm9tIGFueSBzb3J0IG9mIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW06IChkYXRhOiBhbnksIGluZGV4OiBudW1iZXIpID0+ID9JdGVtLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBob3cgbWFueSBpdGVtcyBhcmUgaW4gdGhlIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW1Db3VudDogKGRhdGE6IGFueSkgPT4gbnVtYmVyLFxufH07XG50eXBlIE9wdGlvbmFsUHJvcHMgPSB7fFxuICByZW5kZXJJdGVtPzogP1JlbmRlckl0ZW1UeXBlPEl0ZW0+LFxuICAvKipcbiAgICogYGRlYnVnYCB3aWxsIHR1cm4gb24gZXh0cmEgbG9nZ2luZyBhbmQgdmlzdWFsIG92ZXJsYXlzIHRvIGFpZCB3aXRoIGRlYnVnZ2luZyBib3RoIHVzYWdlIGFuZFxuICAgKiBpbXBsZW1lbnRhdGlvbiwgYnV0IHdpdGggYSBzaWduaWZpY2FudCBwZXJmIGhpdC5cbiAgICovXG4gIGRlYnVnPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBERVBSRUNBVEVEOiBWaXJ0dWFsaXphdGlvbiBwcm92aWRlcyBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBhbmQgbWVtb3J5IG9wdGltaXphdGlvbnMsIGJ1dCBmdWxseVxuICAgKiB1bm1vdW50cyByZWFjdCBpbnN0YW5jZXMgdGhhdCBhcmUgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gWW91IHNob3VsZCBvbmx5IG5lZWQgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKi9cbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIG1hcmtlciBwcm9wZXJ0eSBmb3IgdGVsbGluZyB0aGUgbGlzdCB0byByZS1yZW5kZXIgKHNpbmNlIGl0IGltcGxlbWVudHMgYFB1cmVDb21wb25lbnRgKS4gSWZcbiAgICogYW55IG9mIHlvdXIgYHJlbmRlckl0ZW1gLCBIZWFkZXIsIEZvb3RlciwgZXRjLiBmdW5jdGlvbnMgZGVwZW5kIG9uIGFueXRoaW5nIG91dHNpZGUgb2YgdGhlXG4gICAqIGBkYXRhYCBwcm9wLCBzdGljayBpdCBoZXJlIGFuZCB0cmVhdCBpdCBpbW11dGFibHkuXG4gICAqL1xuICBleHRyYURhdGE/OiBhbnksXG4gIC8vIGUuZy4gaGVpZ2h0LCB5XG4gIGdldEl0ZW1MYXlvdXQ/OiAoXG4gICAgZGF0YTogYW55LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICkgPT4ge1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgLi4uXG4gIH0sXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEhvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBpbiB0aGUgaW5pdGlhbCBiYXRjaC4gVGhpcyBzaG91bGQgYmUgZW5vdWdoIHRvIGZpbGwgdGhlIHNjcmVlbiBidXQgbm90XG4gICAqIG11Y2ggbW9yZS4gTm90ZSB0aGVzZSBpdGVtcyB3aWxsIG5ldmVyIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIHRoZSB3aW5kb3dlZCByZW5kZXJpbmcgaW4gb3JkZXJcbiAgICogdG8gaW1wcm92ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2Ugb2Ygc2Nyb2xsLXRvLXRvcCBhY3Rpb25zLlxuICAgKi9cbiAgaW5pdGlhbE51bVRvUmVuZGVyPzogP251bWJlcixcbiAgLyoqXG4gICAqIEluc3RlYWQgb2Ygc3RhcnRpbmcgYXQgdGhlIHRvcCB3aXRoIHRoZSBmaXJzdCBpdGVtLCBzdGFydCBhdCBgaW5pdGlhbFNjcm9sbEluZGV4YC4gVGhpc1xuICAgKiBkaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gdG9wXCIgb3B0aW1pemF0aW9uIHRoYXQga2VlcHMgdGhlIGZpcnN0IGBpbml0aWFsTnVtVG9SZW5kZXJgIGl0ZW1zXG4gICAqIGFsd2F5cyByZW5kZXJlZCBhbmQgaW1tZWRpYXRlbHkgcmVuZGVycyB0aGUgaXRlbXMgc3RhcnRpbmcgYXQgdGhpcyBpbml0aWFsIGluZGV4LiBSZXF1aXJlc1xuICAgKiBgZ2V0SXRlbUxheW91dGAgdG8gYmUgaW1wbGVtZW50ZWQuXG4gICAqL1xuICBpbml0aWFsU2Nyb2xsSW5kZXg/OiA/bnVtYmVyLFxuICAvKipcbiAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBzY3JvbGwuIFVzZXMgc2NhbGUgdHJhbnNmb3JtcyBvZiAtMS5cbiAgICovXG4gIGludmVydGVkPzogP2Jvb2xlYW4sXG4gIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAvKipcbiAgICogRWFjaCBjZWxsIGlzIHJlbmRlcmVkIHVzaW5nIHRoaXMgZWxlbWVudC4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLFxuICAgKiBvciBhIHJlbmRlciBmdW5jdGlvbi4gRGVmYXVsdHMgdG8gdXNpbmcgVmlldy5cbiAgICovXG4gIENlbGxSZW5kZXJlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIC8qKlxuICAgKiBSZW5kZXJlZCBpbiBiZXR3ZWVuIGVhY2ggaXRlbSwgYnV0IG5vdCBhdCB0aGUgdG9wIG9yIGJvdHRvbS4gQnkgZGVmYXVsdCwgYGhpZ2hsaWdodGVkYCBhbmRcbiAgICogYGxlYWRpbmdJdGVtYCBwcm9wcyBhcmUgcHJvdmlkZWQuIGByZW5kZXJJdGVtYCBwcm92aWRlcyBgc2VwYXJhdG9ycy5oaWdobGlnaHRgL2B1bmhpZ2hsaWdodGBcbiAgICogd2hpY2ggd2lsbCB1cGRhdGUgdGhlIGBoaWdobGlnaHRlZGAgcHJvcCwgYnV0IHlvdSBjYW4gYWxzbyBhZGQgY3VzdG9tIHByb3BzIHdpdGhcbiAgICogYHNlcGFyYXRvcnMudXBkYXRlUHJvcHNgLlxuICAgKi9cbiAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIC8qKlxuICAgKiBUYWtlcyBhbiBpdGVtIGZyb20gYGRhdGFgIGFuZCByZW5kZXJzIGl0IGludG8gdGhlIGxpc3QuIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgICA8RmxhdExpc3RcbiAgICogICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17UGxhdGZvcm0uT1MgIT09ICdhbmRyb2lkJyAmJiAoe2hpZ2hsaWdodGVkfSkgPT4gKFxuICAgKiAgICAgICAgIDxWaWV3IHN0eWxlPXtbc3R5bGUuc2VwYXJhdG9yLCBoaWdobGlnaHRlZCAmJiB7bWFyZ2luTGVmdDogMH1dfSAvPlxuICAgKiAgICAgICApfVxuICAgKiAgICAgICBkYXRhPXtbe3RpdGxlOiAnVGl0bGUgVGV4dCcsIGtleTogJ2l0ZW0xJ31dfVxuICAgKiAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17KHtpdGVtLCBzZXBhcmF0b3JzfSkgPT4gKFxuICAgKiAgICAgICAgIDxUb3VjaGFibGVIaWdobGlnaHRcbiAgICogICAgICAgICAgIG9uUHJlc3M9eygpID0+IHRoaXMuX29uUHJlc3MoaXRlbSl9XG4gICAqICAgICAgICAgICBvblNob3dVbmRlcmxheT17c2VwYXJhdG9ycy5oaWdobGlnaHR9XG4gICAqICAgICAgICAgICBvbkhpZGVVbmRlcmxheT17c2VwYXJhdG9ycy51bmhpZ2hsaWdodH0+XG4gICAqICAgICAgICAgICA8VmlldyBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogJ3doaXRlJ319PlxuICAgKiAgICAgICAgICAgICA8VGV4dD57aXRlbS50aXRsZX08L1RleHQ+XG4gICAqICAgICAgICAgICA8L1ZpZXc+XG4gICAqICAgICAgICAgPC9Ub3VjaGFibGVIaWdobGlnaHQ+XG4gICAqICAgICAgICl9XG4gICAqICAgICAvPlxuICAgKlxuICAgKiBQcm92aWRlcyBhZGRpdGlvbmFsIG1ldGFkYXRhIGxpa2UgYGluZGV4YCBpZiB5b3UgbmVlZCBpdCwgYXMgd2VsbCBhcyBhIG1vcmUgZ2VuZXJpY1xuICAgKiBgc2VwYXJhdG9ycy51cGRhdGVQcm9wc2AgZnVuY3Rpb24gd2hpY2ggbGV0J3MgeW91IHNldCB3aGF0ZXZlciBwcm9wcyB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlXG4gICAqIHJlbmRlcmluZyBvZiBlaXRoZXIgdGhlIGxlYWRpbmcgc2VwYXJhdG9yIG9yIHRyYWlsaW5nIHNlcGFyYXRvciBpbiBjYXNlIHRoZSBtb3JlIGNvbW1vblxuICAgKiBgaGlnaGxpZ2h0YCBhbmQgYHVuaGlnaGxpZ2h0YCAod2hpY2ggc2V0IHRoZSBgaGlnaGxpZ2h0ZWQ6IGJvb2xlYW5gIHByb3ApIGFyZSBpbnN1ZmZpY2llbnQgZm9yXG4gICAqIHlvdXIgdXNlLWNhc2UuXG4gICAqL1xuICBMaXN0SXRlbUNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIHdoZW4gdGhlIGxpc3QgaXMgZW1wdHkuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RFbXB0eUNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSBib3R0b20gb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RGb290ZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RGb290ZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBSZW5kZXJlZCBhdCB0aGUgdG9wIG9mIGFsbCB0aGUgaXRlbXMuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIC8qKlxuICAgKiBTdHlsaW5nIGZvciBpbnRlcm5hbCBWaWV3IGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAqL1xuICBMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGU/OiBWaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBsaXN0LiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgVmlydHVhbGl6ZWRMaXN0cyBhdCB0aGUgc2FtZSBsZXZlbCBvZlxuICAgKiBuZXN0aW5nIHdpdGhpbiBhbm90aGVyIFZpcnR1YWxpemVkTGlzdCwgdGhpcyBrZXkgaXMgbmVjZXNzYXJ5IGZvciB2aXJ0dWFsaXphdGlvbiB0b1xuICAgKiB3b3JrIHByb3Blcmx5LlxuICAgKi9cbiAgbGlzdEtleT86IHN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byByZW5kZXIgaW4gZWFjaCBpbmNyZW1lbnRhbCByZW5kZXIgYmF0Y2guIFRoZSBtb3JlIHJlbmRlcmVkIGF0XG4gICAqIG9uY2UsIHRoZSBiZXR0ZXIgdGhlIGZpbGwgcmF0ZSwgYnV0IHJlc3BvbnNpdmVuZXNzIG1heSBzdWZmZXIgYmVjYXVzZSByZW5kZXJpbmcgY29udGVudCBtYXlcbiAgICogaW50ZXJmZXJlIHdpdGggcmVzcG9uZGluZyB0byBidXR0b24gdGFwcyBvciBvdGhlciBpbnRlcmFjdGlvbnMuXG4gICAqL1xuICBtYXhUb1JlbmRlclBlckJhdGNoPzogP251bWJlcixcbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIHdoZW4gdGhlIHNjcm9sbCBwb3NpdGlvbiBnZXRzIHdpdGhpbiBgb25FbmRSZWFjaGVkVGhyZXNob2xkYCBvZiB0aGUgcmVuZGVyZWRcbiAgICogY29udGVudC5cbiAgICovXG4gIG9uRW5kUmVhY2hlZD86ID8oaW5mbzoge2Rpc3RhbmNlRnJvbUVuZDogbnVtYmVyLCAuLi59KSA9PiB2b2lkLFxuICAvKipcbiAgICogSG93IGZhciBmcm9tIHRoZSBlbmQgKGluIHVuaXRzIG9mIHZpc2libGUgbGVuZ3RoIG9mIHRoZSBsaXN0KSB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlXG4gICAqIGxpc3QgbXVzdCBiZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgdG8gdHJpZ2dlciB0aGUgYG9uRW5kUmVhY2hlZGAgY2FsbGJhY2suXG4gICAqIFRodXMgYSB2YWx1ZSBvZiAwLjUgd2lsbCB0cmlnZ2VyIGBvbkVuZFJlYWNoZWRgIHdoZW4gdGhlIGVuZCBvZiB0aGUgY29udGVudCBpc1xuICAgKiB3aXRoaW4gaGFsZiB0aGUgdmlzaWJsZSBsZW5ndGggb2YgdGhlIGxpc3QuXG4gICAqL1xuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIGEgc3RhbmRhcmQgUmVmcmVzaENvbnRyb2wgd2lsbCBiZSBhZGRlZCBmb3IgXCJQdWxsIHRvIFJlZnJlc2hcIiBmdW5jdGlvbmFsaXR5LiBNYWtlXG4gICAqIHN1cmUgdG8gYWxzbyBzZXQgdGhlIGByZWZyZXNoaW5nYCBwcm9wIGNvcnJlY3RseS5cbiAgICovXG4gIG9uUmVmcmVzaD86ID8oKSA9PiB2b2lkLFxuICAvKipcbiAgICogVXNlZCB0byBoYW5kbGUgZmFpbHVyZXMgd2hlbiBzY3JvbGxpbmcgdG8gYW4gaW5kZXggdGhhdCBoYXMgbm90IGJlZW4gbWVhc3VyZWQgeWV0LiBSZWNvbW1lbmRlZFxuICAgKiBhY3Rpb24gaXMgdG8gZWl0aGVyIGNvbXB1dGUgeW91ciBvd24gb2Zmc2V0IGFuZCBgc2Nyb2xsVG9gIGl0LCBvciBzY3JvbGwgYXMgZmFyIGFzIHBvc3NpYmxlIGFuZFxuICAgKiB0aGVuIHRyeSBhZ2FpbiBhZnRlciBtb3JlIGl0ZW1zIGhhdmUgYmVlbiByZW5kZXJlZC5cbiAgICovXG4gIG9uU2Nyb2xsVG9JbmRleEZhaWxlZD86ID8oaW5mbzoge1xuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogbnVtYmVyLFxuICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiBudW1iZXIsXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlld2FiaWxpdHkgb2Ygcm93cyBjaGFuZ2VzLCBhcyBkZWZpbmVkIGJ5IHRoZVxuICAgKiBgdmlld2FiaWxpdHlDb25maWdgIHByb3AuXG4gICAqL1xuICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkPzogPyhpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB3aGVuIG9mZnNldCBpcyBuZWVkZWQgZm9yIHRoZSBsb2FkaW5nIGluZGljYXRvciB0byBzaG93IGNvcnJlY3RseS5cbiAgICovXG4gIHByb2dyZXNzVmlld09mZnNldD86IG51bWJlcixcbiAgLyoqXG4gICAqIEEgY3VzdG9tIHJlZnJlc2ggY29udHJvbCBlbGVtZW50LiBXaGVuIHNldCwgaXQgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0XG4gICAqIDxSZWZyZXNoQ29udHJvbD4gY29tcG9uZW50IGJ1aWx0IGludGVybmFsbHkuIFRoZSBvblJlZnJlc2ggYW5kIHJlZnJlc2hpbmdcbiAgICogcHJvcHMgYXJlIGFsc28gaWdub3JlZC4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgVmlydHVhbGl6ZWRMaXN0LlxuICAgKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogU2V0IHRoaXMgdHJ1ZSB3aGlsZSB3YWl0aW5nIGZvciBuZXcgZGF0YSBmcm9tIGEgcmVmcmVzaC5cbiAgICovXG4gIHJlZnJlc2hpbmc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIE5vdGU6IG1heSBoYXZlIGJ1Z3MgKG1pc3NpbmcgY29udGVudCkgaW4gc29tZSBjaXJjdW1zdGFuY2VzIC0gdXNlIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFRoaXMgbWF5IGltcHJvdmUgc2Nyb2xsIHBlcmZvcm1hbmNlIGZvciBsYXJnZSBsaXN0cy5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86IGJvb2xlYW4sXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBjdXN0b20gc2Nyb2xsIGNvbXBvbmVudCwgZS5nLiB3aXRoIGEgZGlmZmVyZW50bHkgc3R5bGVkIGBSZWZyZXNoQ29udHJvbGAuXG4gICAqL1xuICByZW5kZXJTY3JvbGxDb21wb25lbnQ/OiAocHJvcHM6IE9iamVjdCkgPT4gUmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgYmV0d2VlbiBsb3ctcHJpIGl0ZW0gcmVuZGVyIGJhdGNoZXMsIGUuZy4gZm9yIHJlbmRlcmluZyBpdGVtcyBxdWl0ZSBhIHdheXMgb2ZmXG4gICAqIHNjcmVlbi4gU2ltaWxhciBmaWxsIHJhdGUvcmVzcG9uc2l2ZW5lc3MgdHJhZGVvZmYgYXMgYG1heFRvUmVuZGVyUGVyQmF0Y2hgLlxuICAgKi9cbiAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBTZWUgYFZpZXdhYmlsaXR5SGVscGVyYCBmb3IgZmxvdyB0eXBlIGFuZCBmdXJ0aGVyIGRvY3VtZW50YXRpb24uXG4gICAqL1xuICB2aWV3YWJpbGl0eUNvbmZpZz86IFZpZXdhYmlsaXR5Q29uZmlnLFxuICAvKipcbiAgICogTGlzdCBvZiBWaWV3YWJpbGl0eUNvbmZpZy9vblZpZXdhYmxlSXRlbXNDaGFuZ2VkIHBhaXJzLiBBIHNwZWNpZmljIG9uVmlld2FibGVJdGVtc0NoYW5nZWRcbiAgICogd2lsbCBiZSBjYWxsZWQgd2hlbiBpdHMgY29ycmVzcG9uZGluZyBWaWV3YWJpbGl0eUNvbmZpZydzIGNvbmRpdGlvbnMgYXJlIG1ldC5cbiAgICovXG4gIHZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycz86IEFycmF5PFZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlyPixcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIHZpc2libGUgYXJlYSwgaW4gdW5pdHMgb2ZcbiAgICogdmlzaWJsZSBsZW5ndGhzLiBTbyBpZiB5b3VyIGxpc3QgZmlsbHMgdGhlIHNjcmVlbiwgdGhlbiBgd2luZG93U2l6ZT17MjF9YCAodGhlIGRlZmF1bHQpIHdpbGxcbiAgICogcmVuZGVyIHRoZSB2aXNpYmxlIHNjcmVlbiBhcmVhIHBsdXMgdXAgdG8gMTAgc2NyZWVucyBhYm92ZSBhbmQgMTAgYmVsb3cgdGhlIHZpZXdwb3J0LiBSZWR1Y2luZ1xuICAgKiB0aGlzIG51bWJlciB3aWxsIHJlZHVjZSBtZW1vcnkgY29uc3VtcHRpb24gYW5kIG1heSBpbXByb3ZlIHBlcmZvcm1hbmNlLCBidXQgd2lsbCBpbmNyZWFzZSB0aGVcbiAgICogY2hhbmNlIHRoYXQgZmFzdCBzY3JvbGxpbmcgbWF5IHJldmVhbCBtb21lbnRhcnkgYmxhbmsgYXJlYXMgb2YgdW5yZW5kZXJlZCBjb250ZW50LlxuICAgKi9cbiAgd2luZG93U2l6ZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbGVnYWN5IGltcGxlbWVudGF0aW9uIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuXG4gICAqL1xuICBsZWdhY3lJbXBsZW1lbnRhdGlvbj86IGVtcHR5LFxufH07XG5cbnR5cGUgUHJvcHMgPSB7fFxuICAuLi5SZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgLi4uUmVxdWlyZWRQcm9wcyxcbiAgLi4uT3B0aW9uYWxQcm9wcyxcbnx9O1xuXG5sZXQgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xubGV0IF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWU6IHN0cmluZyA9ICcnO1xuXG50eXBlIFN0YXRlID0ge1xuICBmaXJzdDogbnVtYmVyLFxuICBsYXN0OiBudW1iZXIsXG59O1xuXG4vKipcbiAqIERlZmF1bHQgUHJvcHMgSGVscGVyIEZ1bmN0aW9uc1xuICogVXNlIHRoZSBmb2xsb3dpbmcgaGVscGVyIGZ1bmN0aW9ucyBmb3IgZGVmYXVsdCB2YWx1ZXNcbiAqL1xuXG4vLyBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbmZ1bmN0aW9uIGhvcml6b250YWxPckRlZmF1bHQoaG9yaXpvbnRhbDogP2Jvb2xlYW4pIHtcbiAgcmV0dXJuIGhvcml6b250YWwgPz8gZmFsc2U7XG59XG5cbi8vIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCh0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdClcbmZ1bmN0aW9uIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdChpbml0aWFsTnVtVG9SZW5kZXI6ID9udW1iZXIpIHtcbiAgcmV0dXJuIGluaXRpYWxOdW1Ub1JlbmRlciA/PyAxMDtcbn1cblxuLy8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCh0aGlzLnByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG5mdW5jdGlvbiBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KG1heFRvUmVuZGVyUGVyQmF0Y2g6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG1heFRvUmVuZGVyUGVyQmF0Y2ggPz8gMTA7XG59XG5cbi8vIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCh0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZClcbmZ1bmN0aW9uIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG9uRW5kUmVhY2hlZFRocmVzaG9sZCA/PyAyO1xufVxuXG4vLyBzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0KHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSlcbmZ1bmN0aW9uIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQoc2Nyb2xsRXZlbnRUaHJvdHRsZTogP251bWJlcikge1xuICByZXR1cm4gc2Nyb2xsRXZlbnRUaHJvdHRsZSA/PyA1MDtcbn1cblxuLy8gd2luZG93U2l6ZU9yRGVmYXVsdCh0aGlzLnByb3BzLndpbmRvd1NpemUpXG5mdW5jdGlvbiB3aW5kb3dTaXplT3JEZWZhdWx0KHdpbmRvd1NpemU6ID9udW1iZXIpIHtcbiAgcmV0dXJuIHdpbmRvd1NpemUgPz8gMjE7XG59XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKiAtIEFzIGFuIGVmZm9ydCB0byByZW1vdmUgZGVmYXVsdFByb3BzLCB1c2UgaGVscGVyIGZ1bmN0aW9ucyB3aGVuIHJlZmVyZW5jaW5nIGNlcnRhaW4gcHJvcHNcbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBjb250ZXh0VHlwZTogdHlwZW9mIFZpcnR1YWxpemVkTGlzdENvbnRleHQgPSBWaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW4sIC4uLn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3godmVyeUxhc3QpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH1cbiAgICAgICAgOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSW5kZXggbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvSW5kZXgocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHthbmltYXRlZCwgaW5kZXgsIHZpZXdPZmZzZXQsIHZpZXdQb3NpdGlvbn0gPSBwYXJhbXM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGJ1dCBtaW5pbXVtIGlzIDBgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpID49IDEsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IGl0ZW0gbGVuZ3RoICR7Z2V0SXRlbUNvdW50KFxuICAgICAgICBkYXRhLFxuICAgICAgKX0gYnV0IG1pbmltdW0gaXMgMWAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiAwIHRvICR7XG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDFcbiAgICAgIH1gLFxuICAgICk7XG4gICAgaWYgKCFnZXRJdGVtTGF5b3V0ICYmIGluZGV4ID4gdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgZnJhbWUub2Zmc2V0IC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyLCAuLi59KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH1cbiAgICAgICAgOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiA/U2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6ID9udW1iZXIge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbFJlZigpOlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZjtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LmNlbGxLZXkgfHwgJ3Jvb3RMaXN0JztcbiAgfVxuXG4gIF9nZXRMaXN0S2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCk7XG4gIH1cblxuICBfZ2V0RGVidWdJbmZvKCk6IExpc3REZWJ1Z0luZm8ge1xuICAgIHJldHVybiB7XG4gICAgICBsaXN0S2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICBjZWxsS2V5OiB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICBwYXJlbnQ6IHRoaXMuY29udGV4dD8uZGVidWdJbmZvLFxuICAgIH07XG4gIH1cblxuICBfZ2V0U2Nyb2xsTWV0cmljcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgfTtcblxuICBoYXNNb3JlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNNb3JlO1xuICB9XG5cbiAgX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICAgIHBhcmVudERlYnVnSW5mbzogTGlzdERlYnVnSW5mbyxcbiAgICAuLi5cbiAgfSk6ID9DaGlsZExpc3RTdGF0ZSA9PiB7XG4gICAgLy8gUmVnaXN0ZXIgdGhlIG1hcHBpbmcgYmV0d2VlbiB0aGlzIGNoaWxkIGtleSBhbmQgdGhlIGNlbGxLZXkgZm9yIGl0cyBjZWxsXG4gICAgY29uc3QgY2hpbGRMaXN0c0luQ2VsbCA9XG4gICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2hpbGRMaXN0LmNlbGxLZXkpIHx8IG5ldyBTZXQoKTtcbiAgICBjaGlsZExpc3RzSW5DZWxsLmFkZChjaGlsZExpc3Qua2V5KTtcbiAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5zZXQoY2hpbGRMaXN0LmNlbGxLZXksIGNoaWxkTGlzdHNJbkNlbGwpO1xuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGREYXRhID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRMaXN0LmtleSk7XG4gICAgaWYgKGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnJlZiAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0EgVmlydHVhbGl6ZWRMaXN0IGNvbnRhaW5zIGEgY2VsbCB3aGljaCBpdHNlbGYgY29udGFpbnMgJyArXG4gICAgICAgICAgJ21vcmUgdGhhbiBvbmUgVmlydHVhbGl6ZWRMaXN0IG9mIHRoZSBzYW1lIG9yaWVudGF0aW9uIGFzIHRoZSBwYXJlbnQgJyArXG4gICAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LlxcblxcbicgK1xuICAgICAgICAgIGRlc2NyaWJlTmVzdGVkTGlzdHMoe1xuICAgICAgICAgICAgLi4uY2hpbGRMaXN0LFxuICAgICAgICAgICAgLy8gV2UncmUgY2FsbGVkIGZyb20gdGhlIGNoaWxkJ3MgY29tcG9uZW50RGlkTW91bnQsIHNvIGl0J3Mgc2FmZSB0b1xuICAgICAgICAgICAgLy8gcmVhZCB0aGUgY2hpbGQncyBwcm9wcyBoZXJlIChhbGJlaXQgd2VpcmQpLlxuICAgICAgICAgICAgaG9yaXpvbnRhbDogISFjaGlsZExpc3QucmVmLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gICAgLi4uXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgaW52YXJpYW50KFxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdChwcm9wcy53aW5kb3dTaXplKSA+IDAsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyxcbiAgICApO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fZ2V0RnJhbWVNZXRyaWNzKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBCYXRjaGluYXRvcihcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIsXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QgPz8gNTAsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycykge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSB0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycy5tYXAoXG4gICAgICAgIHBhaXIgPT4gKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHBhaXIudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHBhaXIub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7b25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCwgdmlld2FiaWxpdHlDb25maWd9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmIChvblZpZXdhYmxlSXRlbXNDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIodmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IG9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBmaXJzdDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgMCxcbiAgICAgIGxhc3Q6XG4gICAgICAgIE1hdGgubWluKFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSksXG4gICAgICAgICAgKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDApICtcbiAgICAgICAgICAgIGluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCh0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlciksXG4gICAgICAgICkgLSAxLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFN0YXRlID0gdGhpcy5jb250ZXh0LmdldE5lc3RlZENoaWxkU3RhdGUodGhpcy5fZ2V0TGlzdEtleSgpKTtcbiAgICAgIGlmIChzdG9yZWRTdGF0ZSkge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0b3JlZFN0YXRlO1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSBzdG9yZWRTdGF0ZS5mcmFtZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAga2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgLy8gTk9URTogV2hlbiB0aGUgY2hpbGQgbW91bnRzIChoZXJlKSBpdCdzIG5vdCBuZWNlc3NhcmlseSBzYWZlIHRvIHJlYWRcbiAgICAgICAgLy8gdGhlIHBhcmVudCdzIHByb3BzLiBUaGlzIGlzIHdoeSB3ZSBleHBsaWNpdGx5IHByb3BhZ2F0ZSBkZWJ1Z0luZm9cbiAgICAgICAgLy8gXCJkb3duXCIgdmlhIGNvbnRleHQgYW5kIFwidXBcIiBhZ2FpbiB2aWEgdGhpcyBtZXRob2QgY2FsbCBvbiB0aGVcbiAgICAgICAgLy8gcGFyZW50LlxuICAgICAgICBwYXJlbnREZWJ1Z0luZm86IHRoaXMuY29udGV4dC5kZWJ1Z0luZm8sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5fZ2V0TGlzdEtleSgpLFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgIGZpcnN0OiB0aGlzLnN0YXRlLmZpcnN0LFxuICAgICAgICAgIGxhc3Q6IHRoaXMuc3RhdGUubGFzdCxcbiAgICAgICAgICBmcmFtZXM6IHRoaXMuX2ZyYW1lcyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50fSA9IG5ld1Byb3BzO1xuICAgIGNvbnN0IG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KFxuICAgICAgbmV3UHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCxcbiAgICApO1xuICAgIC8vIGZpcnN0IGFuZCBsYXN0IGNvdWxkIGJlIHN0YWxlIChlLmcuIGlmIGEgbmV3LCBzaG9ydGVyIGl0ZW1zIHByb3BzIGlzIHBhc3NlZCBpbiksIHNvIHdlIG1ha2VcbiAgICAvLyBzdXJlIHdlJ3JlIHJlbmRlcmluZyBhIHJlYXNvbmFibGUgcmFuZ2UgaGVyZS5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbihwcmV2U3RhdGUuZmlyc3QsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICksXG4gICAgICBsYXN0OiBNYXRoLm1heCgwLCBNYXRoLm1pbihwcmV2U3RhdGUubGFzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSkpLFxuICAgIH07XG4gIH1cblxuICBfcHVzaENlbGxzKFxuICAgIGNlbGxzOiBBcnJheTxPYmplY3Q+LFxuICAgIHN0aWNreUhlYWRlckluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wczogU2V0PG51bWJlcj4sXG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gICkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBMaXN0SGVhZGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgICBkYXRhLFxuICAgICAgZGVidWcsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICByZW5kZXJJdGVtLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IExpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxO1xuICAgIGxldCBwcmV2Q2VsbEtleTtcbiAgICBsYXN0ID0gTWF0aC5taW4oZW5kLCBsYXN0KTtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLl9rZXlFeHRyYWN0b3IoaXRlbSwgaWkpO1xuICAgICAgdGhpcy5faW5kaWNlc1RvS2V5cy5zZXQoaWksIGtleSk7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW1Db21wb25lbnR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGRlYnVnPXtkZWJ1Z31cbiAgICAgICAgICBmaWxsUmF0ZUhlbHBlcj17dGhpcy5fZmlsbFJhdGVIZWxwZXJ9XG4gICAgICAgICAgZ2V0SXRlbUxheW91dD17Z2V0SXRlbUxheW91dH1cbiAgICAgICAgICBob3Jpem9udGFsPXtob3Jpem9udGFsfVxuICAgICAgICAgIGluZGV4PXtpaX1cbiAgICAgICAgICBpbnZlcnNpb25TdHlsZT17aW52ZXJzaW9uU3R5bGV9XG4gICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBwcmV2Q2VsbEtleT17cHJldkNlbGxLZXl9XG4gICAgICAgICAgb25DZWxsTGF5b3V0PXt0aGlzLl9vbkNlbGxMYXlvdXR9XG4gICAgICAgICAgb25VcGRhdGVTZXBhcmF0b3JzPXt0aGlzLl9vblVwZGF0ZVNlcGFyYXRvcnN9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXJJdGVtPXtyZW5kZXJJdGVtfVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24gfHwgZmFsc2U7XG4gIH1cblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmV0dXJuICEhKFxuICAgICAgbmVzdGVkQ29udGV4dCAmJlxuICAgICAgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICk7XG4gIH1cblxuICBfZ2V0U3BhY2VyS2V5ID0gKGlzVmVydGljYWw6IGJvb2xlYW4pOiBzdHJpbmcgPT5cbiAgICBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIF9rZXlFeHRyYWN0b3IoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikge1xuICAgIGlmICh0aGlzLnByb3BzLmtleUV4dHJhY3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGRlZmF1bHRLZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGlmIChrZXkgPT09IFN0cmluZyhpbmRleCkpIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICBpZiAoZmxhdFN0eWxlcyAhPSBudWxsICYmIGZsYXRTdHlsZXMuZmxleFdyYXAgPT09ICd3cmFwJykge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2BmbGV4V3JhcDogYHdyYXBgYCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGBWaXJ0dWFsaXplZExpc3RgIGNvbXBvbmVudHMuJyArXG4gICAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHtMaXN0RW1wdHlDb21wb25lbnQsIExpc3RGb290ZXJDb21wb25lbnQsIExpc3RIZWFkZXJDb21wb25lbnR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2RhdGEsIGhvcml6b250YWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgPSB0aGlzLl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQoKTtcbiAgICBjb25zdCBpbnZlcnNpb25TdHlsZSA9IHRoaXMucHJvcHMuaW52ZXJ0ZWRcbiAgICAgID8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8gc3R5bGVzLmhvcml6b250YWxseUludmVydGVkXG4gICAgICAgIDogc3R5bGVzLnZlcnRpY2FsbHlJbnZlcnRlZFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNlbGxzID0gW107XG4gICAgY29uc3Qgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyA9IG5ldyBTZXQodGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzKTtcbiAgICBjb25zdCBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEhlYWRlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG4gICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gJyc7XG4gICAgICBjb25zdCBzcGFjZXJLZXkgPSB0aGlzLl9nZXRTcGFjZXJLZXkoIWhvcml6b250YWwpO1xuICAgICAgY29uc3QgbGFzdEluaXRpYWxJbmRleCA9IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4XG4gICAgICAgID8gLTFcbiAgICAgICAgOiBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQodGhpcy5wcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIpIC0gMTtcbiAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgMCxcbiAgICAgICAgbGFzdEluaXRpYWxJbmRleCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgZmlyc3RBZnRlckluaXRpYWwgPSBNYXRoLm1heChsYXN0SW5pdGlhbEluZGV4ICsgMSwgZmlyc3QpO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgZmlyc3QgPiBsYXN0SW5pdGlhbEluZGV4ICsgMSkge1xuICAgICAgICBsZXQgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgc3RpY2t5IGhlYWRlcnMgaW4gdGhlIHZpcnR1YWxpemVkIHNwYWNlIHRoYXQgd2UgbmVlZCB0byByZW5kZXIuXG4gICAgICAgICAgZm9yIChsZXQgaWkgPSBmaXJzdEFmdGVySW5pdGlhbCAtIDE7IGlpID4gbGFzdEluaXRpYWxJbmRleDsgaWktLSkge1xuICAgICAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuICAgICAgICAgICAgICBjb25zdCBzdGlja3lCbG9jayA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgICAgICAgICBjb25zdCBsZWFkU3BhY2UgPVxuICAgICAgICAgICAgICAgIHN0aWNreUJsb2NrLm9mZnNldCAtXG4gICAgICAgICAgICAgICAgaW5pdEJsb2NrLm9mZnNldCAtXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID8gMCA6IGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfbGVhZFwiIHN0eWxlPXt7W3NwYWNlcktleV06IGxlYWRTcGFjZX19IC8+LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCB0cmFpbFNwYWNlID1cbiAgICAgICAgICAgICAgICB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfdHJhaWxcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0cmFpbFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGluc2VydGVkU3RpY2t5U3BhY2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGZpcnN0U3BhY2UgPVxuICAgICAgICAgICAgdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0IC1cbiAgICAgICAgICAgIChpbml0QmxvY2sub2Zmc2V0ICsgaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgIDxWaWV3IGtleT1cIiRsZWFkX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IGZpcnN0U3BhY2V9fSAvPixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgIGNlbGxzLFxuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICBmaXJzdEFmdGVySW5pdGlhbCxcbiAgICAgICAgbGFzdCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgK1xuICAgICAgICAgICAgJ2l0ZW0gb3IgcHJvdmlkZSBhIGN1c3RvbSBrZXlFeHRyYWN0b3IuJyxcbiAgICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgICBjb25zdCBsYXN0RnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpO1xuICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dFxuICAgICAgICAgID8gaXRlbUNvdW50IC0gMVxuICAgICAgICAgIDogTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZEZyYW1lID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChlbmQpO1xuICAgICAgICBjb25zdCB0YWlsU3BhY2VyTGVuZ3RoID1cbiAgICAgICAgICBlbmRGcmFtZS5vZmZzZXQgK1xuICAgICAgICAgIGVuZEZyYW1lLmxlbmd0aCAtXG4gICAgICAgICAgKGxhc3RGcmFtZS5vZmZzZXQgKyBsYXN0RnJhbWUubGVuZ3RoKTtcbiAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICA8VmlldyBrZXk9XCIkdGFpbF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0YWlsU3BhY2VyTGVuZ3RofX0gLz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChMaXN0RW1wdHlDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQ6IFJlYWN0LkVsZW1lbnQ8YW55PiA9ICgoUmVhY3QuaXNWYWxpZEVsZW1lbnQoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICkgPyAoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEVtcHR5Q29tcG9uZW50IC8+XG4gICAgICApKTogYW55KTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgICAga2V5OiAnJGVtcHR5JyxcbiAgICAgICAgICBvbkxheW91dDogZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wcm9wcy5vbkxheW91dCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIGVsZW1lbnQucHJvcHMuc3R5bGUpLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEZvb3RlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RGb290ZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RGb290ZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldEZvb3RlckNlbGxLZXkoKX1cbiAgICAgICAgICBrZXk9XCIkZm9vdGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEZvb3Rlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbFByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXQsXG4gICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX29uU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQoXG4gICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgICksIC8vIFRPRE86IEFuZHJvaWQgc3VwcG9ydFxuICAgICAgaW52ZXJ0U3RpY2t5SGVhZGVyczpcbiAgICAgICAgdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICBzdHlsZTogaW52ZXJzaW9uU3R5bGVcbiAgICAgICAgPyBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdXG4gICAgICAgIDogdGhpcy5wcm9wcy5zdHlsZSxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9XG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPCB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiB0aGlzLl9nZXROZXN0ZWRDaGlsZFN0YXRlLFxuICAgICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICBkZWJ1Z0luZm86IHRoaXMuX2dldERlYnVnSW5mbygpLFxuICAgICAgICB9fT5cbiAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICAoXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fFxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudFxuICAgICAgICAgICkoc2Nyb2xsUHJvcHMpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5fY2FwdHVyZVNjcm9sbFJlZixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxzLFxuICAgICAgICApfVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXI+XG4gICAgKTtcbiAgICBsZXQgcmV0OiBSZWFjdC5Ob2RlID0gaW5uZXJSZXQ7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldCA9IChcbiAgICAgICAgPFNjcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7c2Nyb2xsQ29udGV4dCA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNjcm9sbENvbnRleHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAhc2Nyb2xsQ29udGV4dC5ob3Jpem9udGFsID09PVxuICAgICAgICAgICAgICAgICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nICYmXG4gICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gVE9ETyAoVDQ2NTQ3MDQ0KTogdXNlIFJlYWN0Lndhcm4gb25jZSAxNi45IGlzIHN5bmMnZDogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTUxNzBcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyBzaG91bGQgbmV2ZXIgYmUgbmVzdGVkIGluc2lkZSBwbGFpbiBTY3JvbGxWaWV3cyB3aXRoIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgICAgICAgJ29yaWVudGF0aW9uIGJlY2F1c2UgaXQgY2FuIGJyZWFrIHdpbmRvd2luZyBhbmQgb3RoZXIgZnVuY3Rpb25hbGl0eSAtIHVzZSBhbm90aGVyICcgK1xuICAgICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdC1iYWNrZWQgY29udGFpbmVyIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlubmVyUmV0O1xuICAgICAgICAgIH19XG4gICAgICAgIDwvU2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuZGVidWd9PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlc2V0Vmlld2FibGVJbmRpY2VzKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG4gICAgY29uc3QgaGlQcmlJblByb2dyZXNzID0gdGhpcy5faGlQcmlJblByb2dyZXNzO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIC8vIE1ha2Ugc3VyZSBzZXR0aW5nIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGJhY2sgdG8gZmFsc2UgYWZ0ZXIgYGNvbXBvbmVudERpZFVwZGF0ZWBcbiAgICAvLyBpcyB0cmlnZ2VyZWQgd2l0aCBgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZWBcbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfYXZlcmFnZUNlbGxMZW5ndGggPSAwO1xuICAvLyBNYXBzIGEgY2VsbCBrZXkgdG8gdGhlIHNldCBvZiBrZXlzIGZvciBhbGwgb3V0ZXJtb3N0IGNoaWxkIGxpc3RzIHdpdGhpbiB0aGF0IGNlbGxcbiAgX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4gPSBuZXcgTWFwKCk7XG4gIF9jZWxsUmVmcyA9IHt9O1xuICBfZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyO1xuICBfZnJhbWVzID0ge307XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICBfaGFzRG9uZUluaXRpYWxTY3JvbGwgPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZCA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX25lc3RlZENoaWxkTGlzdHM6IE1hcDxcbiAgICBzdHJpbmcsXG4gICAge1xuICAgICAgcmVmOiA/VmlydHVhbGl6ZWRMaXN0LFxuICAgICAgc3RhdGU6ID9DaGlsZExpc3RTdGF0ZSxcbiAgICAgIC4uLlxuICAgIH0sXG4gID4gPSBuZXcgTWFwKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgY29udGVudExlbmd0aDogMCxcbiAgICBkT2Zmc2V0OiAwLFxuICAgIGR0OiAxMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxuICAgIHZlbG9jaXR5OiAwLFxuICAgIHZpc2libGVMZW5ndGg6IDAsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgX3RvdGFsQ2VsbHNNZWFzdXJlZCA9IDA7XG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlcjogQmF0Y2hpbmF0b3I7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIF9jYXB0dXJlU2Nyb2xsUmVmID0gcmVmID0+IHtcbiAgICB0aGlzLl9zY3JvbGxSZWYgPSByZWY7XG4gIH07XG5cbiAgX2NvbXB1dGVCbGFua25lc3MoKSB7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuY29tcHV0ZUJsYW5rbmVzcyhcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgICB0aGlzLnN0YXRlLFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcgPz8gJ3VuZGVmaW5lZCcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICA8U2Nyb2xsVmlld1xuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICByZWZyZXNoQ29udHJvbD17XG4gICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbCA9PSBudWxsID8gKFxuICAgICAgICAgICAgICA8UmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgICAgICByZWZyZXNoaW5nPXtwcm9wcy5yZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uUmVmcmVzaD17b25SZWZyZXNofVxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmlld09mZnNldD17cHJvcHMucHJvZ3Jlc3NWaWV3T2Zmc2V0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dCA9IChlOiBMYXlvdXRFdmVudCwgY2VsbEtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9O1xuXG4gIF9vbkNlbGxVbm1vdW50ID0gKGNlbGxLZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKGN1cnIpIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IHsuLi5jdXJyLCBpbkxheW91dDogZmFsc2V9O1xuICAgIH1cbiAgfTtcblxuICBfdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9IHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5KTtcbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgIGNoaWxkTGlzdCAmJlxuICAgICAgICAgIGNoaWxkTGlzdC5yZWYgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgbWV0cmljc0NoYW5nZWQgPVxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoICE9PSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ICE9PSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgIGlmIChtZXRyaWNzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgICAgLy8gSWYgbWV0cmljcyBvZiB0aGUgc2Nyb2xsVmlldyBjaGFuZ2VkLCB0aGVuIHdlIHRyaWdnZXJlZCByZW1lYXN1cmUgZm9yIGNoaWxkIGxpc3RcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSBWaXJ0dWFsaXplZExpc3QgaGFzIHRoZSByaWdodCBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmZvckVhY2goY2hpbGRMaXN0S2V5cyA9PiB7XG4gICAgICAgICAgICAgIGlmIChjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0ICYmXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkTGlzdC5yZWYgJiZcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0LnJlZi5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoXG4gICAgICAgIGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9nZXRGb290ZXJDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJztcbiAgfVxuXG4gIF9vbkxheW91dEZvb3RlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSk7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9yZW5kZXJEZWJ1Z092ZXJsYXkoKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID1cbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAvXG4gICAgICAodGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoIHx8IDEpO1xuICAgIGNvbnN0IGZyYW1lc0luTGF5b3V0ID0gW107XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGVcbiAgICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dUb3AgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUuZmlyc3QpLm9mZnNldDtcbiAgICBjb25zdCBmcmFtZUxhc3QgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUubGFzdCk7XG4gICAgY29uc3Qgd2luZG93TGVuID0gZnJhbWVMYXN0Lm9mZnNldCArIGZyYW1lTGFzdC5sZW5ndGggLSB3aW5kb3dUb3A7XG4gICAgY29uc3QgdmlzVG9wID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXldfT5cbiAgICAgICAge2ZyYW1lc0luTGF5b3V0Lm1hcCgoZiwgaWkpID0+IChcbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAga2V5PXsnZicgKyBpaX1cbiAgICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWUsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3A6IGYub2Zmc2V0ICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZi5sZW5ndGggKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZUxhc3QsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogd2luZG93VG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVWaXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogdmlzVG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHZpc0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG5cbiAgX3NlbGVjdExlbmd0aChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgID8gbWV0cmljcy5oZWlnaHRcbiAgICAgIDogbWV0cmljcy53aWR0aDtcbiAgfVxuXG4gIF9zZWxlY3RPZmZzZXQoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpID8gbWV0cmljcy55IDogbWV0cmljcy54O1xuICB9XG5cbiAgX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBvbkVuZFJlYWNoZWQsIG9uRW5kUmVhY2hlZFRocmVzaG9sZH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7Y29udGVudExlbmd0aCwgdmlzaWJsZUxlbmd0aCwgb2Zmc2V0fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG4gICAgY29uc3QgdGhyZXNob2xkID1cbiAgICAgIG9uRW5kUmVhY2hlZFRocmVzaG9sZCAhPSBudWxsID8gb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCA6IDI7XG4gICAgaWYgKFxuICAgICAgb25FbmRSZWFjaGVkICYmXG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IHRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgLy8gT25seSBjYWxsIG9uRW5kUmVhY2hlZCBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoXG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICAgIG9uRW5kUmVhY2hlZCh7ZGlzdGFuY2VGcm9tRW5kfSk7XG4gICAgfSBlbHNlIGlmIChkaXN0YW5jZUZyb21FbmQgPiB0aHJlc2hvbGQpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBlbmQgYW5kIGJhY2sgYWdhaW4gY2F1c2VcbiAgICAgIC8vIGFuIG9uRW5kUmVhY2hlZCB0byBiZSB0cmlnZ2VyZWQgYWdhaW5cbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICBfb25Db250ZW50U2l6ZUNoYW5nZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGlmIChcbiAgICAgIHdpZHRoID4gMCAmJlxuICAgICAgaGVpZ2h0ID4gMCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmXG4gICAgICAhdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGxcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGwgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7aGVpZ2h0LCB3aWR0aH0pO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9zZWxlY3RPZmZzZXQoZS5uYXRpdmVFdmVudC5jb250ZW50T2Zmc2V0KTtcbiAgICBsZXQgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIElnbm9yZSBzY3JvbGwgZXZlbnRzIHVudGlsIG9uTGF5b3V0IGhhcyBiZWVuIGNhbGxlZCBhbmQgd2VcbiAgICAgICAgLy8ga25vdyBvdXIgb2Zmc2V0IGZyb20gb3VyIG9mZnNldCBmcm9tIG91ciBwYXJlbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKHt2aXNpYmxlTGVuZ3RoLCBjb250ZW50TGVuZ3RoLCBvZmZzZXQsIGRPZmZzZXR9ID1cbiAgICAgICAgdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3Moe1xuICAgICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgICAgb2Zmc2V0LFxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHQgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcFxuICAgICAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcClcbiAgICAgIDogMTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgIGlmIChcbiAgICAgIGR0ID4gNTAwICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmXG4gICAgICBjb250ZW50TGVuZ3RoID4gNSAqIHZpc2libGVMZW5ndGggJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQucGVyZlxuICAgICkge1xuICAgICAgaW5mb0xvZyhcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogWW91IGhhdmUgYSBsYXJnZSBsaXN0IHRoYXQgaXMgc2xvdyB0byB1cGRhdGUgLSBtYWtlIHN1cmUgeW91ciAnICtcbiAgICAgICAgICAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArXG4gICAgICAgICAgJ2xpa2UgUHVyZUNvbXBvbmVudCwgc2hvdWxkQ29tcG9uZW50VXBkYXRlLCBldGMuJyxcbiAgICAgICAge2R0LCBwcmV2RHQ6IHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQsIGNvbnRlbnRMZW5ndGh9LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5wZXJmID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBkdCxcbiAgICAgIGRPZmZzZXQsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxvY2l0eSxcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgfTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICB9O1xuXG4gIF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKSB7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge29mZnNldCwgdmlzaWJsZUxlbmd0aCwgdmVsb2NpdHl9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGxldCBoaVByaSA9IGZhbHNlO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgY29uc3Qgc2Nyb2xsaW5nVGhyZXNob2xkID0gKG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGgpIC8gMjtcbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChmaXJzdCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RUb3AgPSBvZmZzZXQgLSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQ7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGhpUHJpIHx8IGRpc3RUb3AgPCAwIHx8ICh2ZWxvY2l0eSA8IC0yICYmIGRpc3RUb3AgPCBzY3JvbGxpbmdUaHJlc2hvbGQpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAobGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgIGNvbnN0IGRpc3RCb3R0b20gPVxuICAgICAgICB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpLm9mZnNldCAtIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHxcbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEVuZERyYWcoZSk7XG4gICAgfSk7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHZlbG9jaXR5KTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIF9vbk1vbWVudHVtU2Nyb2xsQmVnaW4gPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IF9vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgb25FbmRSZWFjaGVkVGhyZXNob2xkID0gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgX29uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YSk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4ge1xuICAgICAgbGV0IG5ld1N0YXRlOiA/KFxuICAgICAgICB8IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIsIC4uLn1cbiAgICAgICAgfCAkVEVNUE9SQVJZJG9iamVjdDx7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfT5cbiAgICAgICk7XG4gICAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCkge1xuICAgICAgICAvLyBJZiB3ZSBydW4gdGhpcyB3aXRoIGJvZ3VzIGRhdGEsIHdlJ2xsIGZvcmNlLXJlbmRlciB3aW5kb3cge2ZpcnN0OiAwLCBsYXN0OiAwfSxcbiAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgICAgIGlmICh2aXNpYmxlTGVuZ3RoID4gMCAmJiBjb250ZW50TGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXggYW5kIHJ1biB0aGlzIGJlZm9yZSB3ZSd2ZSBzY3JvbGxlZCxcbiAgICAgICAgICAvLyB3ZSdsbCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzIHN0YXJ0aW5nIGF0IGluaXRpYWxTY3JvbGxJbmRleC5cbiAgICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHdlJ3ZlIHNjcm9sbGVkIHRoZSB2aWV3IHRvIHRoZSByaWdodCBwbGFjZS4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbFNjcm9sbEluZGV4IHN1Z2dlc3Rpb24uXG4gICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCB0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbCkge1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQsXG4gICAgICAgICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQodGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICAgICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdCh0aGlzLnByb3BzLndpbmRvd1NpemUpLFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveCxcbiAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICAgID8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdCh0aGlzLnByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gpXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIG5ld1N0YXRlID0ge1xuICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgIGxhc3Q6IE1hdGgubWluKHN0YXRlLmxhc3QgKyByZW5kZXJBaGVhZCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobmV3U3RhdGUgJiYgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zaXplID4gMCkge1xuICAgICAgICBjb25zdCBuZXdGaXJzdCA9IG5ld1N0YXRlLmZpcnN0O1xuICAgICAgICBjb25zdCBuZXdMYXN0ID0gbmV3U3RhdGUubGFzdDtcbiAgICAgICAgLy8gSWYgc29tZSBjZWxsIGluIHRoZSBuZXcgc3RhdGUgaGFzIGEgY2hpbGQgbGlzdCBpbiBpdCwgd2Ugc2hvdWxkIG9ubHkgcmVuZGVyXG4gICAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgICAgLy8gdGhlaXIgaXRlbXMuXG4gICAgICAgIGZvciAobGV0IGlpID0gbmV3Rmlyc3Q7IGlpIDw9IG5ld0xhc3Q7IGlpKyspIHtcbiAgICAgICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICAgICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9XG4gICAgICAgICAgICBjZWxsS2V5Rm9ySW5kZXggJiZcbiAgICAgICAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5Rm9ySW5kZXgpO1xuICAgICAgICAgIGlmICghY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBzb21lQ2hpbGRIYXNNb3JlID0gZmFsc2U7XG4gICAgICAgICAgLy8gRm9yIGVhY2ggY2VsbCwgbmVlZCB0byBjaGVjayB3aGV0aGVyIGFueSBjaGlsZCBsaXN0IGluIGl0IGhhcyBtb3JlIGVsZW1lbnRzIHRvIHJlbmRlclxuICAgICAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkS2V5KTtcbiAgICAgICAgICAgIGlmIChjaGlsZExpc3QgJiYgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLmhhc01vcmUoKSkge1xuICAgICAgICAgICAgICBzb21lQ2hpbGRIYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb21lQ2hpbGRIYXNNb3JlKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZS5sYXN0ID0gaWk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbmV3U3RhdGUgIT0gbnVsbCAmJlxuICAgICAgICBuZXdTdGF0ZS5maXJzdCA9PT0gc3RhdGUuZmlyc3QgJiZcbiAgICAgICAgbmV3U3RhdGUubGFzdCA9PT0gc3RhdGUubGFzdFxuICAgICAgKSB7XG4gICAgICAgIG5ld1N0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlVmlld1Rva2VuID0gKGluZGV4OiBudW1iZXIsIGlzVmlld2FibGU6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge2luZGV4LCBpdGVtLCBrZXk6IHRoaXMuX2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCksIGlzVmlld2FibGV9O1xuICB9O1xuXG4gIF9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94OiAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIC4uLlxuICB9ID0gaW5kZXggPT4ge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzKGluZGV4KTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAvLyBjaGVjayBmb3IgaW52YWxpZCBmcmFtZXMgZHVlIHRvIHJvdyByZS1vcmRlcmluZ1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7Z2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhZ2V0SXRlbUxheW91dCxcbiAgICAgICAgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIG9mZnNldDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggKiBpbmRleCxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3MgPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogP3tcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGluTGF5b3V0PzogYm9vbGVhbixcbiAgICAuLi5cbiAgfSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudCwgZ2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+IGluZGV4LFxuICAgICAgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCxcbiAgICApO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICBsZXQgZnJhbWUgPSBpdGVtICYmIHRoaXMuX2ZyYW1lc1t0aGlzLl9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaWYgKGdldEl0ZW1MYXlvdXQpIHtcbiAgICAgICAgZnJhbWUgPSBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yXG4gICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgcmV0dXJuIGZyYW1lO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IHtnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbnR5cGUgQ2VsbFJlbmRlcmVyUHJvcHMgPSB7XG4gIENlbGxSZW5kZXJlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ6ID9SZWFjdC5Db21wb25lbnRUeXBlPFxuICAgIGFueSB8IHtoaWdobGlnaHRlZDogYm9vbGVhbiwgbGVhZGluZ0l0ZW06ID9JdGVtfSxcbiAgPixcbiAgTGlzdEl0ZW1Db21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgZGVidWc/OiA/Ym9vbGVhbixcbiAgZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyLFxuICBnZXRJdGVtTGF5b3V0PzogKFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmRleDogbnVtYmVyLFxuICApID0+IHtcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIC4uLlxuICB9LFxuICBob3Jpem9udGFsOiA/Ym9vbGVhbixcbiAgaW5kZXg6IG51bWJlcixcbiAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gIGl0ZW06IEl0ZW0sXG4gIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGJ5IFNjcm9sbFZpZXdTdGlja3lIZWFkZXJcbiAgb25DZWxsTGF5b3V0OiAoZXZlbnQ6IE9iamVjdCwgY2VsbEtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLFxuICBvblVubW91bnQ6IChjZWxsS2V5OiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uVXBkYXRlU2VwYXJhdG9yczogKGNlbGxLZXlzOiBBcnJheTw/c3RyaW5nPiwgcHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgcHJldkNlbGxLZXk6ID9zdHJpbmcsXG4gIHJlbmRlckl0ZW0/OiA/UmVuZGVySXRlbVR5cGU8SXRlbT4sXG4gIC4uLlxufTtcblxudHlwZSBDZWxsUmVuZGVyZXJTdGF0ZSA9IHtcbiAgc2VwYXJhdG9yUHJvcHM6ICRSZWFkT25seTx7fFxuICAgIGhpZ2hsaWdodGVkOiBib29sZWFuLFxuICAgIGxlYWRpbmdJdGVtOiA/SXRlbSxcbiAgfH0+LFxuICAuLi5cbn07XG5cbmNsYXNzIENlbGxSZW5kZXJlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgQ2VsbFJlbmRlcmVyUHJvcHMsXG4gIENlbGxSZW5kZXJlclN0YXRlLFxuPiB7XG4gIHN0YXRlID0ge1xuICAgIHNlcGFyYXRvclByb3BzOiB7XG4gICAgICBoaWdobGlnaHRlZDogZmFsc2UsXG4gICAgICBsZWFkaW5nSXRlbTogdGhpcy5wcm9wcy5pdGVtLFxuICAgIH0sXG4gIH07XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICBwcm9wczogQ2VsbFJlbmRlcmVyUHJvcHMsXG4gICAgcHJldlN0YXRlOiBDZWxsUmVuZGVyZXJTdGF0ZSxcbiAgKTogP0NlbGxSZW5kZXJlclN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgICAgLi4ucHJldlN0YXRlLnNlcGFyYXRvclByb3BzLFxuICAgICAgICBsZWFkaW5nSXRlbTogcHJvcHMuaXRlbSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8vIFRPRE86IGNvbnNpZGVyIGZhY3RvcmluZyBzZXBhcmF0b3Igc3R1ZmYgb3V0IG9mIFZpcnR1YWxpemVkTGlzdCBpbnRvIEZsYXRMaXN0IHNpbmNlIGl0J3Mgbm90XG4gIC8vIHJldXNlZCBieSBTZWN0aW9uTGlzdCBhbmQgd2UgY2FuIGtlZXAgVmlydHVhbGl6ZWRMaXN0IHNpbXBsZXIuXG4gIF9zZXBhcmF0b3JzID0ge1xuICAgIGhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBkYXRlUHJvcHM6IChzZWxlY3Q6ICdsZWFkaW5nJyB8ICd0cmFpbGluZycsIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoXG4gICAgICAgIFtzZWxlY3QgPT09ICdsZWFkaW5nJyA/IHByZXZDZWxsS2V5IDogY2VsbEtleV0sXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgKTtcbiAgICB9LFxuICB9O1xuXG4gIHVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzOiBPYmplY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICBzZXBhcmF0b3JQcm9wczogey4uLnN0YXRlLnNlcGFyYXRvclByb3BzLCAuLi5uZXdQcm9wc30sXG4gICAgfSkpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5wcm9wcy5jZWxsS2V5KTtcbiAgfVxuXG4gIF9vbkxheW91dCA9IChuYXRpdmVFdmVudDogTGF5b3V0RXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2VsbExheW91dCAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNlbGxMYXlvdXQoXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICB0aGlzLnByb3BzLmNlbGxLZXksXG4gICAgICAgIHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICApO1xuICB9O1xuXG4gIF9yZW5kZXJFbGVtZW50KHJlbmRlckl0ZW0sIExpc3RJdGVtQ29tcG9uZW50LCBpdGVtLCBpbmRleCkge1xuICAgIGlmIChyZW5kZXJJdGVtICYmIExpc3RJdGVtQ29tcG9uZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IEJvdGggTGlzdEl0ZW1Db21wb25lbnQgYW5kIHJlbmRlckl0ZW0gcHJvcHMgYXJlIHByZXNlbnQuIExpc3RJdGVtQ29tcG9uZW50IHdpbGwgdGFrZScgK1xuICAgICAgICAgICcgcHJlY2VkZW5jZSBvdmVyIHJlbmRlckl0ZW0uJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKExpc3RJdGVtQ29tcG9uZW50KSB7XG4gICAgICAvKiAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF0gKD49MC4xMDguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpc1xuICAgICAgICogY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMDggd2FzIGRlcGxveWVkLiBUb1xuICAgICAgICogc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAvKiAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ10gKD49MC4xMDguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYilcbiAgICAgICAqIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMDggd2FzIGRlcGxveWVkLlxuICAgICAgICogVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUNvbXBvbmVudCwge1xuICAgICAgICBpdGVtLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9ycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJJdGVtKSB7XG4gICAgICByZXR1cm4gcmVuZGVySXRlbSh7XG4gICAgICAgIGl0ZW0sXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzZXBhcmF0b3JzOiB0aGlzLl9zZXBhcmF0b3JzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBFaXRoZXIgTGlzdEl0ZW1Db21wb25lbnQgb3IgcmVuZGVySXRlbSBwcm9wcyBhcmUgcmVxdWlyZWQgYnV0IG5vbmUgd2VyZSBmb3VuZC4nLFxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgZGVidWcsXG4gICAgICBmaWxsUmF0ZUhlbHBlcixcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICByZW5kZXJJdGVtLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJFbGVtZW50KFxuICAgICAgcmVuZGVySXRlbSxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICk7XG5cbiAgICBjb25zdCBvbkxheW91dCA9XG4gICAgICAoZ2V0SXRlbUxheW91dCAmJiAhZGVidWcgJiYgIWZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKSkgfHxcbiAgICAgICF0aGlzLnByb3BzLm9uQ2VsbExheW91dFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRoaXMuX29uTGF5b3V0O1xuICAgIC8vIE5PVEU6IHRoYXQgd2hlbiB0aGlzIGlzIGEgc3RpY2t5IGhlYWRlciwgYG9uTGF5b3V0YCB3aWxsIGdldCBhdXRvbWF0aWNhbGx5IGV4dHJhY3RlZCBhbmRcbiAgICAvLyBjYWxsZWQgZXhwbGljaXRseSBieSBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAgY29uc3QgaXRlbVNlcGFyYXRvciA9IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgJiYgKFxuICAgICAgPEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgey4uLnRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHN9IC8+XG4gICAgKTtcbiAgICBjb25zdCBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZVxuICAgICAgPyBob3Jpem9udGFsXG4gICAgICAgID8gW3N0eWxlcy5yb3dSZXZlcnNlLCBpbnZlcnNpb25TdHlsZV1cbiAgICAgICAgOiBbc3R5bGVzLmNvbHVtblJldmVyc2UsIGludmVyc2lvblN0eWxlXVxuICAgICAgOiBob3Jpem9udGFsXG4gICAgICA/IFtzdHlsZXMucm93LCBpbnZlcnNpb25TdHlsZV1cbiAgICAgIDogaW52ZXJzaW9uU3R5bGU7XG4gICAgY29uc3QgcmVzdWx0ID0gIUNlbGxSZW5kZXJlckNvbXBvbmVudCA/IChcbiAgICAgIC8qICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXSAoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpICpcbiAgICAgICAgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gKlxuICAgICAgICBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIDxWaWV3IHN0eWxlPXtjZWxsU3R5bGV9IG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgIHtlbGVtZW50fVxuICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgIDwvVmlldz5cbiAgICApIDogKFxuICAgICAgPENlbGxSZW5kZXJlckNvbXBvbmVudFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e2NlbGxTdHlsZX1cbiAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAge2VsZW1lbnR9XG4gICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgPC9DZWxsUmVuZGVyZXJDb21wb25lbnQ+XG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciBjZWxsS2V5PXt0aGlzLnByb3BzLmNlbGxLZXl9PlxuICAgICAgICB7cmVzdWx0fVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOZXN0ZWRMaXN0cyhjaGlsZExpc3Q6IHtcbiAgK2NlbGxLZXk6IHN0cmluZyxcbiAgK2tleTogc3RyaW5nLFxuICArcmVmOiBWaXJ0dWFsaXplZExpc3QsXG4gICtwYXJlbnREZWJ1Z0luZm86IExpc3REZWJ1Z0luZm8sXG4gICtob3Jpem9udGFsOiBib29sZWFuLFxuICAuLi5cbn0pIHtcbiAgbGV0IHRyYWNlID1cbiAgICAnVmlydHVhbGl6ZWRMaXN0IHRyYWNlOlxcbicgK1xuICAgIGAgIENoaWxkICgke2NoaWxkTGlzdC5ob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJ30pOlxcbmAgK1xuICAgIGAgICAgbGlzdEtleTogJHtjaGlsZExpc3Qua2V5fVxcbmAgK1xuICAgIGAgICAgY2VsbEtleTogJHtjaGlsZExpc3QuY2VsbEtleX1gO1xuXG4gIGxldCBkZWJ1Z0luZm86ID9MaXN0RGVidWdJbmZvID0gY2hpbGRMaXN0LnBhcmVudERlYnVnSW5mbztcbiAgd2hpbGUgKGRlYnVnSW5mbykge1xuICAgIHRyYWNlICs9XG4gICAgICBgXFxuICBQYXJlbnQgKCR7ZGVidWdJbmZvLmhvcml6b250YWwgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnfSk6XFxuYCArXG4gICAgICBgICAgIGxpc3RLZXk6ICR7ZGVidWdJbmZvLmxpc3RLZXl9XFxuYCArXG4gICAgICBgICAgIGNlbGxLZXk6ICR7ZGVidWdJbmZvLmNlbGxLZXl9YDtcbiAgICBkZWJ1Z0luZm8gPSBkZWJ1Z0luZm8ucGFyZW50O1xuICB9XG4gIHJldHVybiB0cmFjZTtcbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVZOiAtMX1dLFxuICB9LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG4gIHJvdzoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxuICByb3dSZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJyxcbiAgfSxcbiAgY29sdW1uUmV2ZXJzZToge1xuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4tcmV2ZXJzZScsXG4gIH0sXG4gIGRlYnVnOiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgfSxcbiAgZGVidWdPdmVybGF5OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZToge1xuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnb3JhbmdlJyxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVWaXM6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAncmVkJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpcnR1YWxpemVkTGlzdDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBOztBQUtBOztBQVNBOzs7Ozs7Ozs7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