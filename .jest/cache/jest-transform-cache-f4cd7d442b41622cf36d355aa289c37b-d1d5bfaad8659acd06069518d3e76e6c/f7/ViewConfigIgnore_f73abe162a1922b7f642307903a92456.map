{"version":3,"names":["ignoredViewConfigProps","WeakSet","DynamicallyInjectedByGestureHandler","object","add","ConditionallyIgnoredEventHandlers","value","Platform","OS","global","RN$ViewConfigEventValidAttributesDisabled","undefined","isIgnored","has"],"sources":["ViewConfigIgnore.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\nimport Platform from '../Utilities/Platform';\n\nconst ignoredViewConfigProps = new WeakSet<{...}>();\n\n/**\n * Decorates ViewConfig values that are dynamically injected by the library,\n * react-native-gesture-handler. (T45765076)\n */\nexport function DynamicallyInjectedByGestureHandler<T: {...}>(object: T): T {\n  ignoredViewConfigProps.add(object);\n  return object;\n}\n\n/**\n * On iOS, ViewManager event declarations generate {eventName}: true entries\n * in ViewConfig valueAttributes. These entries aren't generated for Android.\n * This annotation allows Static ViewConfigs to insert these entries into\n * iOS but not Android.\n *\n * In the future, we want to remove this platform-inconsistency. We want\n * to set RN$ViewConfigEventValidAttributesDisabled = true server-side,\n * so that iOS does not generate validAttributes from event props in iOS RCTViewManager,\n * since Android does not generate validAttributes from events props in Android ViewManager.\n *\n * TODO(T110872225): Remove this logic, after achieving platform-consistency\n */\nexport function ConditionallyIgnoredEventHandlers<T: {[name: string]: true}>(\n  value: T,\n): T | void {\n  if (\n    Platform.OS === 'ios' &&\n    !(global.RN$ViewConfigEventValidAttributesDisabled === true)\n  ) {\n    return value;\n  }\n  return undefined;\n}\n\nexport function isIgnored(value: mixed): boolean {\n  if (typeof value === 'object' && value != null) {\n    return ignoredViewConfigProps.has(value);\n  }\n  return false;\n}\n"],"mappings":";;;;;;;;;AAUA;;AAEA,IAAMA,sBAAsB,GAAG,IAAIC,OAAJ,EAA/B;;AAMO,SAASC,mCAAT,CAAuDC,MAAvD,EAAqE;EAC1EH,sBAAsB,CAACI,GAAvB,CAA2BD,MAA3B;EACA,OAAOA,MAAP;AACD;;AAeM,SAASE,iCAAT,CACLC,KADK,EAEK;EACV,IACEC,iBAAA,CAASC,EAAT,KAAgB,KAAhB,IACA,EAAEC,MAAM,CAACC,yCAAP,KAAqD,IAAvD,CAFF,EAGE;IACA,OAAOJ,KAAP;EACD;;EACD,OAAOK,SAAP;AACD;;AAEM,SAASC,SAAT,CAAmBN,KAAnB,EAA0C;EAC/C,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,IAAI,IAA1C,EAAgD;IAC9C,OAAON,sBAAsB,CAACa,GAAvB,CAA2BP,KAA3B,CAAP;EACD;;EACD,OAAO,KAAP;AACD"}