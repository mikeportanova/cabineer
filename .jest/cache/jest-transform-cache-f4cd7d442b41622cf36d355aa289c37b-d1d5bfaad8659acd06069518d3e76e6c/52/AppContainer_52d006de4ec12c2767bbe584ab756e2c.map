{"version":3,"names":["AppContainer","state","inspector","mainKey","hasError","_subscription","__DEV__","global","__RCTProfileIsProfiling","RCTDeviceEventEmitter","addListener","Inspector","require","_mainRef","updateInspectedView","setState","s","remove","logBox","props","internal_excludeLogBox","LogBoxNotificationContainer","default","innerView","styles","appContainer","ref","children","Wrapper","WrapperComponent","initialProps","fabric","showArchitectureIndicator","createRootTag","rootTag","React","Component","getDerivedStateFromError","undefined","StyleSheet","create","flex","module","exports"],"sources":["AppContainer.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport View from '../Components/View/View';\nimport RCTDeviceEventEmitter from '../EventEmitter/RCTDeviceEventEmitter';\nimport StyleSheet from '../StyleSheet/StyleSheet';\nimport {type EventSubscription} from '../vendor/emitter/EventEmitter';\nimport {RootTagContext, createRootTag} from './RootTag';\nimport type {RootTag} from './RootTag';\nimport * as React from 'react';\n\ntype Props = $ReadOnly<{|\n  children?: React.Node,\n  fabric?: boolean,\n  useConcurrentRoot?: boolean,\n  rootTag: number | RootTag,\n  initialProps?: {...},\n  showArchitectureIndicator?: boolean,\n  WrapperComponent?: ?React.ComponentType<any>,\n  internal_excludeLogBox?: ?boolean,\n|}>;\n\ntype State = {|\n  inspector: ?React.Node,\n  mainKey: number,\n  hasError: boolean,\n|};\n\nclass AppContainer extends React.Component<Props, State> {\n  state: State = {\n    inspector: null,\n    mainKey: 1,\n    hasError: false,\n  };\n  _mainRef: ?React.ElementRef<typeof View>;\n  _subscription: ?EventSubscription = null;\n\n  static getDerivedStateFromError: any = undefined;\n\n  componentDidMount(): void {\n    if (__DEV__) {\n      if (!global.__RCTProfileIsProfiling) {\n        this._subscription = RCTDeviceEventEmitter.addListener(\n          'toggleElementInspector',\n          () => {\n            const Inspector = require('../Inspector/Inspector');\n            const inspector = this.state.inspector ? null : (\n              <Inspector\n                inspectedView={this._mainRef}\n                onRequestRerenderApp={updateInspectedView => {\n                  this.setState(\n                    s => ({mainKey: s.mainKey + 1}),\n                    () => updateInspectedView(this._mainRef),\n                  );\n                }}\n              />\n            );\n            this.setState({inspector});\n          },\n        );\n      }\n    }\n  }\n\n  componentWillUnmount(): void {\n    if (this._subscription != null) {\n      this._subscription.remove();\n    }\n  }\n\n  render(): React.Node {\n    let logBox = null;\n    if (__DEV__) {\n      if (\n        !global.__RCTProfileIsProfiling &&\n        !this.props.internal_excludeLogBox\n      ) {\n        const LogBoxNotificationContainer =\n          require('../LogBox/LogBoxNotificationContainer').default;\n        logBox = <LogBoxNotificationContainer />;\n      }\n    }\n\n    let innerView: React.Node = (\n      <View\n        collapsable={!this.state.inspector}\n        key={this.state.mainKey}\n        pointerEvents=\"box-none\"\n        style={styles.appContainer}\n        ref={ref => {\n          this._mainRef = ref;\n        }}>\n        {this.props.children}\n      </View>\n    );\n\n    const Wrapper = this.props.WrapperComponent;\n    if (Wrapper != null) {\n      innerView = (\n        <Wrapper\n          initialProps={this.props.initialProps}\n          fabric={this.props.fabric === true}\n          showArchitectureIndicator={\n            this.props.showArchitectureIndicator === true\n          }>\n          {innerView}\n        </Wrapper>\n      );\n    }\n    return (\n      <RootTagContext.Provider value={createRootTag(this.props.rootTag)}>\n        <View style={styles.appContainer} pointerEvents=\"box-none\">\n          {!this.state.hasError && innerView}\n          {this.state.inspector}\n          {logBox}\n        </View>\n      </RootTagContext.Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  appContainer: {\n    flex: 1,\n  },\n});\n\nmodule.exports = AppContainer;\n"],"mappings":"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"}